{% extends 'base.html' %}

{% block h1_title %}
{{object.title}} ({{object.av_number}})
{% endblock %}

{% block content %}
{% if object.type == object.AUDIO %}
<audio controls preload="auto" autobuffer>
    <source src="{{MEDIA_URL}}{{object.refid}}/{{object.refid}}.mp3" type="audio/mpeg">
    Your browser does not support the audio tag.
</audio>
{% elif object.type == object.VIDEO %}
<video controls>
    <source src="{{MEDIA_URL}}{{object.refid}}/{{object.refid}}.mp4" type="video/mp4">
    Your browser does not support the video tag.
</video>
{% endif %}

<h2 class="mt-20 mb-0">Details</h2>
<dl class="list--unstyled">
  <dt>Ref ID:</dt>
  <dd>{{object.refid}}</dd>
  <dt>Collection:</dt>
  <dd>{{object.resource_title}}</dd>
  {% if object.multiple_masters %}
  <dt>Access file duration:</dt><dd>{{object.duration_access}} seconds</dd>
  <dt>Master file duration:</dt><dd>{{object.duration_master}} seconds</dd>
  {% endif %}
</dl>
<a class="btn btn--sm btn--white mb-20" href="{{object.archivesspace_link}}">View in ArchivesSpace</a>



<h2>Assign Rights</h2>
{% for statement in rights_statements %}
  <div class="input-group">
    <input
      type="checkbox"
      class="checkbox--rights"
      id={{statement.aquila_id}}
      name="{{statement.title}}"
    />
    <label for={{statement.aquila_id}} class="checkbox--blue">{{statement.title}}</label>
  </div>
{% endfor %}

<div id="error-message" class="input__error" style="display:none"></div>

{% if object.possible_duplicate  %}
<p class="text--orange">This package may have already been processed through this pipeline.</p>
{% endif %}

<div class="mt-20">
  <button id="approve-button" type="submit" class="btn btn--sm btn--blue">Approve Item</button>
  <button type="cancel" class="btn btn--sm btn--orange" data-micromodal-trigger="modal__reject-single">Reject Item</button>
</div>
{% endblock %}

{% block modals %}
{% include 'modal_approve_single.html' %}
{% include 'modal_reject_single.html' %}
{% endblock %}